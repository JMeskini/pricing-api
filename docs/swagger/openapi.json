{
  "openapi": "3.0.3",
  "info": {
    "title": "Pricing API",
    "version": "1.0.0",
    "description": "API to retrieve the applicable price for a product at a given date and brand."
  },
  "paths": {
    "/api/prices": {
      "get": {
        "summary": "Find the applicable price",
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2020-06-14T10:00:00"
          },
          {
            "name": "productId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 35455
          },
          {
            "name": "brandId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Applicable price found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PriceResponse"
                },
                "example": {
                  "productId": 35455,
                  "brandId": 1,
                  "priceList": 1,
                  "startDate": "2020-06-14T00:00:00",
                  "endDate": "2020-12-31T23:59:59",
                  "price": 35.50,
                  "currency": "EUR"
                }
              }
            }
          },
          "404": {
            "description": "Price not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PriceResponse": {
        "type": "object",
        "properties": {
          "productId": { "type": "integer", "format": "int64" },
          "brandId": { "type": "integer", "format": "int64" },
          "priceList": { "type": "integer", "format": "int32" },
          "startDate": { "type": "string", "format": "date-time" },
          "endDate": { "type": "string", "format": "date-time" },
          "price": { "type": "number", "format": "double" },
          "currency": { "type": "string" }
        },
        "required": ["productId", "brandId", "priceList", "startDate", "endDate", "price", "currency"]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string" },
          "message": { "type": "string" }
        }
      }
    }
  }
}
